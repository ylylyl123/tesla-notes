# 公网部署与手机同步指南

## 目标
- 手机随时可访问，不再依赖同一局域网。
- 手机新增笔记后，电脑端自动同步显示。

## 现在的前提状态
- 本地数据已迁移到 Supabase（memo 95 条）。
- 项目已支持数据模式切换：`auto / local / cloud`。

## 推荐策略
- 网页端（部署到公网）：使用 `cloud` 模式。
- 桌面端（Tauri）：可在设置里切到 `云同步`，实现手机和桌面同库。

## Vercel 部署（推荐）
1. 把 `tesla-notes` 目录推到 GitHub 仓库。
2. 在 Vercel 导入该仓库，Root Directory 选 `tesla-notes`。
3. Build Command: `pnpm build`
4. Output Directory: `dist`
5. 环境变量添加：
- `VITE_DATA_MODE=cloud`
- `VITE_SUPABASE_URL=你的 Supabase URL`
- `VITE_SUPABASE_ANON_KEY=你的 Publishable key`
6. 部署完成后，用手机直接打开 Vercel 提供的 URL。

## Netlify 部署（备选）
1. 导入仓库，Root Directory 选 `tesla-notes`。
2. Build Command: `pnpm build`
3. Publish directory: `dist`
4. 同样配置上面 3 个环境变量。

## 手机体验建议
- iPhone Safari: 分享 -> 添加到主屏幕。
- Android Chrome: 菜单 -> 添加到主屏幕。

## 同步验证
1. 手机新增一条笔记（例如“手机同步验证”）。
2. 电脑端打开桌面应用，设置 -> 同步模式切到 `云同步`。
3. 等待最多 15 秒，或切回应用窗口，笔记应自动出现。
